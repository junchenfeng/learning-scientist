目标
==========
(1) 全概公式

(2) 条件概率公式

(3) 以条件概率形式展示的全概公式

事件(event)和概率(probability)
==========

学生掌握了长方形周长公式；C = 1

学生没有掌握长方形周长公式；C = 0

P(C=1) = 0.6

P(C=0) = 0.4

P(C=1) + P(C=0) = 1 

**思考1**: P(C) = ？

学生掌握了长方形面积公式； A = 1

学生没有掌握长方形面积公式； A = 0

P(A=1) = 0.3 

**思考2** P(A=0) = ?

联合概率(joint probability)
==========

学生掌握周长，同时掌握面积；C = 1, A = 1
P(C=1, A=1) = 0.25

学生掌握周长，但是没有掌握面积；C = 1，A = 0
P(C=1, A=0) = 0.35

[全概率公式](https://baike.baidu.com/item/%E5%85%A8%E6%A6%82%E7%8E%87%E5%85%AC%E5%BC%8F)：P(C=1) = P(C=1, A=1) + P(C=1, A=0)

**思考3**: P(C=0, A=1) = ?, P(C=0, A=0) = ?

**思考4**: 如何绘制[维恩图](https://baike.baidu.com/item/%E6%96%87%E6%B0%8F%E5%9B%BE?fromtitle=%E7%BB%B4%E6%81%A9%E5%9B%BE&fromid=9416531)

条件概率(conditional probability)
==========

P(A) ?= P(A|B)

P(A|B) ?= P(B|A)

P(A=1|C=1) = P(A=1, C=1) / P(C=1) = 0.25 / 0.6 = 5/12

P(C=1|A=1) = P(A=1, C=1) / P(A=1) = 0.25 / 0.3 = 5/6 

所以 P(A=1|C=1) != P(C=1|A=1)

**思考5** 这是恒不等式么？

P(A=1|C=0) = P(C=0, A=1) / P(C=0) = 0.05 / 0.4 = 1/8

所以 P(A=1|C=0) + P(A=1|C=1) != 1

P(A=0|C=1) = P(C=1, A=0) / P(C=1) = 0.35 / 0.6 = 7/12

所以 P(A=0|C=1) + P(A=1|C=1) = 1

**思考6** 证明最后一个为恒等式 **以条件概率形式展示的全概公式**


应用
====================

# 刻画学习过程

两个时间：现在t=0，未来t=1

学生在时间t的掌握状态，未掌握，X(t)=0；已掌握，X(t)=1

**思考** 如何定义学习效果？ P(X(1)=1) - P(X(0)=1) OR P(X(1)=1|X(0)=0)


遗忘：X(1)=0|X(0)=1

已知学生现在掌握的概率是0.4，学会的概率是0.7，遗忘的概率是0.1；问未来掌握的概率是多少？

    P(X(0)=1)*(1-X(1)=0|X(0)=1) + P(X(0)=1) * P(X(1)=1|X(0)=0)
    = 0.4 * (1-0.1) + 0.6 * 0.7
    = 0.78

# 刻画学习噪音

学生答题结果Y。答对Y=1，答错Y=0

猜测：Y=1|X=0，粗心 Y=0|X=1

假设粗心概率是0.1, 猜测概率是0.4；问现在学生答对的概率是多少

    P(Y=1|X(0)=1)P(X(0)=1) + P(Y=1|X(0)=0)P(X(0)=0)
    = (1-0.1) * 0.4 + 0.4*0.6
    = 0.6

# 学习+噪音

问学生未来答对的概率是多少

    P(Y=1|X(1)=1)P(X(1)=1) + P(Y=1|X(1)=0)P(X(1)=0)
    = (1-0.1) * 0.78 + 0.4*0.22
    = 0.79
    
**思考** 比价三种学习效果的定义

    [a] P(Y(1)=1) - P(Y(0)=1)
    [b] P(X(1)=1) - P(X(0)=1)
    [c] P(X(1)=1|X(0)=0)

什么条件下，[a]和[b]一样；什么条件下，[b]和[c]事实上等价


思考题答案
==========

1: P(C) 是概率函数，P(C=1) 是概率。例如C = 1时P(C)=0.6

2: P(A=0) = 1 - P(A=1) = 0.7

3: P(C=0,A=1) = P(A=1) - P(C=1,A=1) = 0.3 - 0.25 = 0.05; P(C=0, A=0) = P(C=0) - P(C=0, A=1) = 0.35

4:略

5：不。如果P(A|C)=P(A)，等式成立

6: 由全概可得，P(C=1,A=1) + P(C=1,A=0) = P(C=1)；左右同除P(C=1) 

7：不是。因为P(A=1|C=1) != P(A=1|C=0)

8：（1）非独立事件：如果我们知道条件概率以及一个事件的取值，可以预测另一个事件的取值。（2）独立事件：方便数学建模【初学者难以理解这一点】
